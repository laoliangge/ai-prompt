<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘å¸ƒå·¥å…· PRO</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body { background: #0f0f11; padding-top: 80px; min-height: 100vh; }
        .admin-box { max-width: 600px; margin: 0 auto; padding: 20px; }
        .card-form { background: #1a1a1c; padding: 30px; border-radius: 16px; border: 1px solid #333; }
        label { display: block; color: #aaa; margin-bottom: 8px; font-size: 14px; }
        input, textarea { width: 100%; background: #111; border: 1px solid #333; color: #fff; padding: 12px; border-radius: 8px; margin-bottom: 20px; font-family: inherit; }
        input:focus, textarea:focus { border-color: #6366f1; outline: none; }
        
        .upload-area { border: 2px dashed #444; border-radius: 10px; padding: 30px; text-align: center; cursor: pointer; margin-bottom: 20px; transition: 0.3s; }
        .upload-area:hover { border-color: #6366f1; background: rgba(99,102,241,0.05); }
        .upload-area.active { border-color: #10b981; color: #10b981; }
        
        .btn-gen { width: 100%; background: linear-gradient(135deg, #4E75F6, #E94868); color: #fff; border: none; padding: 15px; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 16px; }
        
        .result-box { margin-top: 20px; background: #000; padding: 15px; border-radius: 10px; display: none; position: relative; }
        .code-pre { color: #a5f3fc; font-family: monospace; font-size: 12px; white-space: pre-wrap; word-break: break-all; }
        .btn-copy-code { position: absolute; top: 10px; right: 10px; background: #333; color: #fff; border: 1px solid #555; padding: 5px 10px; font-size: 12px; border-radius: 4px; cursor: pointer; }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo"><span class="logo-text">AI PROMPT ADMIN</span></div>
            <div class="nav-links"><a href="index.html">è¿”å›ç”»å»Š</a></div>
        </div>
    </nav>

    <div class="admin-box">
        <div class="card-form">
            <h2>æ–°å»ºä½œå“</h2>
            <label>æ ‡é¢˜</label><input type="text" id="title">
            <label>åˆ†ç±»</label><input type="text" id="category">
            
            <label>å›¾ç‰‡ (ç‚¹å‡»é€‰æ‹©)</label>
            <input type="file" id="fileIn" hidden accept="image/*">
            <div class="upload-area" onclick="document.getElementById('fileIn').click()" id="dropZone">
                ğŸ“‚ ç‚¹å‡»é€‰æ‹©å›¾ç‰‡
            </div>
            <input type="hidden" id="imgVal">

            <label>æç¤ºè¯</label><textarea id="prompt" rows="6"></textarea>

            <button class="btn-gen" onclick="gen()">ç”Ÿæˆä»£ç </button>

            <div class="result-box" id="resBox">
                <button class="btn-copy-code" onclick="copyC()">å¤åˆ¶</button>
                <div class="code-pre" id="codeShow"></div>
                <p style="color:#555; font-size:12px; margin-top:10px; text-align:center;">å¤åˆ¶åç²˜è´´åˆ° data.json çš„ [ åé¢</p>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('fileIn').onchange = function(e) {
            if(e.target.files[0]) {
                document.getElementById('dropZone').innerText = "âœ… å·²é€‰: " + e.target.files[0].name;
                document.getElementById('dropZone').classList.add('active');
                document.getElementById('imgVal').value = "images/" + e.target.files[0].name;
            }
        };

        function gen() {
            let d = {
                id: Date.now(),
                title: document.getElementById('title').value || "æœªå‘½å",
                category: document.getElementById('category').value || "é€šç”¨",
                imageUrl: document.getElementById('imgVal').value,
                prompt: document.getElementById('prompt').value
            };
            if(!d.imageUrl) return alert('æ²¡å›¾ä½ è¯´ä¸ªå•¥ï¼Ÿ');
            
            let s = JSON.stringify(d, null, 4);
            document.getElementById('codeShow').innerText = "    " + s + ",";
            document.getElementById('resBox').style.display = 'block';
        }

        function copyC() {
            navigator.clipboard.writeText(document.getElementById('codeShow').innerText);
            alert('å·²å¤åˆ¶ï¼å» data.json ç²˜è´´å§ã€‚');
        }
    </script>
</body>
</html>
